// Если спецпроект интегрирован в сайт, из media queries обычно хватает только двух: mobile и not_mobile
@import './inc/mq'

@import './inc/functions'
@import './inc/keyframes'

@import './svg'

// base.styl подключается только в том случае, когда спецпроект расположен на отдельной странице
// @import 'base'

$colors = {
  white: #ffffff,
  black: #000000
}

// FYI: на десктопе на странице статьи максимальная ширина контейнера — 1060px. В ленте сайта — 640px.
// Мобильная версия начинается с 679px, и там ограничений по ширине нет

// Название класса рекомендуется выбирать так, чтобы точно не было конфликтов с существующими спецпроектами.
// Обычно имени проекта достаточно
.mgfn-trgt
  position relative

  font-size 16px
  line-height 1.5em

  --mgfn__svg-vc_logo: $svg.vc_logo
  --mgfn__svg-megafon_logo: $svg.megafon_logo
  --mgfn__svg-mark_success: $svg.mark_success
  --mgfn__svg-mark_failure: $svg.mark_failure
  --mgfn__svg-arrow: $svg.arrow
  --mgfn__svg-refresh: $svg.refresh

  @keyframes mgfn__typing-blink
    0%
      opacity .7
    50%
      opacity .5
    100%
      opacity .7

  &[data-theme='green']
    --mgfn__header-bg-color #00B956
    --mgfn__header-text-color #fff
    --mgtn__chat-bg-color #e8e8e8
    --mgtn__chat-scroll-color #00B956
    --mgtn__chat-text-color #00B956

  &[data-theme='pink']
    --mgfn__header-bg-color #fbeaee
    --mgfn__header-text-color #000
    --mgtn__chat-bg-color #ede5f0
    --mgtn__chat-scroll-color #807678
    --mgtn__chat-text-color #FB9DB3

  $IMAGE_CDN = 'img/'

  --mggn__img-phone_borders_x1 url($IMAGE_CDN + 'phone-borders.png')
  --mggn__img-phone_borders_x2 url($IMAGE_CDN + 'phone-borders@2x.png')

  --mggn__img-chat_bg_x1 url($IMAGE_CDN + 'chat-bg.png')
  --mggn__img-chat_bg_x2 url($IMAGE_CDN + 'chat-bg@2x.png')

  --mggn__img-anon_x1 url($IMAGE_CDN + 'anon.png')
  --mggn__img-anon_x2 url($IMAGE_CDN + 'anon@2x.png')

  --mggn__img-target_logo_x1 url($IMAGE_CDN + 'target-logo.png')
  --mggn__img-target_logo_x2 url($IMAGE_CDN + 'target-logo@2x.png')

  --mgfn__switch-theme-transilion all .5s ease-in-out
  --mgfn__standard-transilion all .3s ease-in-out

  @media $mq.notMobile
    font-size 18px

  &__screens
    width 1060px; height 750px

  &__screen
    position relative
    width 100%; height 100%

    background-color #F3F3F3

    &:not([data-show])
      display none

    &--quiz
      //

    &--final
      display flex

      flex-direction column

      align-items center
      justify-content center

  @import 'parts/phone'

  @import 'parts/phone-header'

  @import 'parts/chat'

  @import 'parts/answers'

  @import 'parts/sms'

  @import 'parts/final'

  &__cache
    position absolute
    overflow hidden
    clip rect(0 0 0 0)

  .likely
    display flex

    &__widget
      display flex

      width: 60px; height 40px

      align-items center
      justify-content center

      background-color transparent

      border 1px solid

      padding 0 10px

      color inherit

      cursor pointer

      transition var(--mgfn__standard-transilion)

      &:not(:first-child)
        margin-left: 10px

      &:hover
        @media $mq.notHover
          background-color transparent

        svg
            fill #fff

      &--vkontakte
        &:hover
          background-color #5b88bd

      &--facebook
        &:hover
          background-color #4267b2

      &--twitter
        &:hover
          background-color #1da1f2

    &__icon
      background-color transparent

      svg
        display block
        width 1.2em; height 1.2em

        transition var(--mgfn__standard-transilion)

  // for Retina displays
  @media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi)
    ^[0]__phone
      &::before
        background-image var(--mggn__img-phone_borders_x1)

    ^[0]__header
      &--avatar
        background-image var(--mggn__img-anon_x2)

    ^[0]__chat
      background-image var(--mggn__img-chat_bg_x2)
