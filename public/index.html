<!DOCTYPE html>
<html lang="ru">

<head>
    <title>Special</title>

    <meta charset="utf-8">
    <meta name="referrer" content="always">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link href="https://fonts.googleapis.com/css?family=Roboto:400,400i,500,700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://static-osnova.gcdn.co/static/build/vc.ru/all.min.css">
</head>

<body>

<style>
    .wrapper {
        display: flex;
        justify-content: center;
        align-items: center;
        width: 100%;
        max-width: 100%;
        min-height: 100vh;
        padding-top: 50px;
        overflow: hidden;
    }
    @media (min-width: 680px) {
        .wrapper {
            width: 640px;
            margin: 0 auto;
        }
    }
    @media (min-width: 1025px) {
        .wrapper {
            width: 1020px;
        }
        .wrapper[air-module="module.feed"] {
            width: 640px;
            margin: 0 0 0 80px;
        }
    }
    @media (min-width: 1340px) {
        .wrapper {
            width: 1060px;
        }
    }
    .wrapper > span {
        position: fixed;
        z-index: 999;
        top: 0;
        bottom: 0;
        left: 0;
        right: 0;
        width: 100%;
        height: 50px;
        background-color: #feebef;
    }
    .toggle {
        position: fixed;
        z-index: 9999;
        top: 10px;
        left: 10px;
        user-select: none;
    }
</style>

<div id="wrapper" class="wrapper">
    <span></span>
    <label class="toggle">
        <input type="checkbox" id="feed-toggle">
        feed
    </label>
    <div style="width: 1060px; max-width: 100%;">
        <div id="special"></div>
    </div>
</div>

<script>
  (function(d, ver) {
    var s = d.createElement('script');
    s.src = './all.js?' + ver;
    s.async = true;

    var container = d.getElementById('special');

    if (container) {
      s.onload = function() {
        new Special.Special({
          // css: './all.css?' + ver,
          container: container,
          isFeed: document.querySelector('[air-module="module.feed"], [air-module="module.page_search"]') ? true : false,
          share: {
            url: '',
            title: '',
          }
        });
      };
    }
    d.body.appendChild(s);
  })(document, 0);

  (function(d, w) {
    var toggle = d.getElementById('feed-toggle');
    var wrapper = d.getElementById('wrapper');
    var specialContainer = d.getElementById('special');

    toggle.addEventListener('change', function () {
      if (this.checked) {
        wrapper.setAttribute('air-module', 'module.feed');
        specialContainer.classList.remove('is-not-feed');
        specialContainer.classList.add('is-feed');
      } else {
        wrapper.removeAttribute('air-module');
        specialContainer.classList.remove('is-feed');
        specialContainer.classList.add('is-not-feed');
      }
    });
  })(document, window);
</script>

</body>

</html>
